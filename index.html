<!doctype>
<html>
<head>
<title>Test</title>
</head>
<body>

<script type="text/javascript" src="phonegap.js"></script>
<script type="text/javascript">

var app = {
	initialize: function() {
		document.addEventListener('deviceready', this.onDeviceReady, false);
	},

	onDeviceReady: function() {
		//alert(navigator.connection.type);
		app.checkConnection();
	},
	checkConnection : function() {
		alert("checkConnection");
		var networkState = navigator.connection.type;

		alert(networkState);
		setTimeout(function() {
			networkState = navigator.connection.type;
//			alert(networkState);
			var states = {};
			states[Connection.UNKNOWN] = 'Unknown';
			states[Connection.ETHERNET] = 'Ethernet';
			states[Connection.WIFI] = 'WiFi';
			states[Connection.CELL_2G] = 'Cell 2G';
			states[Connection.CELL_3G] = 'Cell 3G';
			states[Connection.CELL_4G] = 'Cell 4G';
			states[Connection.CELL] = 'Cell';
			states[Connection.NONE] = 'No';

			/*
			if (networkState == Connection.NONE) {
				this.failElement(elem);
			} else {
				this.succeedElement(elem);
			}
			*/
			alert('Internet: ' + states[networkState]);
		}, 750);
	}

}

app.initialize();

</script>

</body>
</html>